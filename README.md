# Web Scrapper Flask

## Список участников
**Андреев Анатолий Русланович**

## Описание
**Web Scrapper Flask** — это веб-приложение на Flask, которое позволяет пользователям вводить URL-адрес, скрапить HTML-контент страницы и сохранять его в файл. Приложение также сохраняет историю запросов и скачанных файлов в базу данных MySQL.

## Функционал
- Ввод URL-адреса для скрапинга.
- Преобразование относительных путей ресурсов в абсолютные.
- Сохранение HTML-контента в файл.
- Скачивание сохранённого HTML-файла.
- Сохранение истории запросов и скачанных файлов в базу данных MySQL.


##Скриншот проекта
![image](https://github.com/user-attachments/assets/638abbae-0b77-4f85-9da6-1cfe9ecf91e8)

## Установка и запуск

### 1. Клонирование репозитория
```bash
git clone https://github.com/scrapper-python
cd scrapper-python
```

### 2. Установка зависимостей
Убедитесь, что у вас установлен Python 3.11 или выше. Затем выполните:
```bash
pip install -r requirements.txt
```

### 3. Настройка базы данных
Создайте базу данных MySQL:
```sql
CREATE DATABASE webscrapper CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

Обновите настройки подключения в `main.py` или используйте переменные окружения:
```python
DB_HOST = 'localhost'
DB_USER = 'root'
DB_PASSWORD = 'your_password'
DB_NAME = 'webscrapper'
```

### 4. Запуск приложения
Для локального запуска выполните:
```bash
python main.py
```

Приложение будет доступно по адресу: [http://127.0.0.1:5000](http://127.0.0.1:5000).

### 5. Деплой на Render
1. Создайте веб-сервис на Render.
2. Добавьте переменные окружения:
   - `DB_HOST`
   - `DB_USER`
   - `DB_PASSWORD`
   - `DB_NAME`
3. Render автоматически соберёт и запустит приложение.

## Использование
1. Введите URL-адрес в текстовое поле на главной странице.
2. Нажмите кнопку "Скрапить".
3. Просмотрите HTML-контент в iframe.
4. Нажмите "Скачать HTML", чтобы сохранить файл.

## Структура проекта
```
web_scrapper_flask/
├── main.py                # Основной файл приложения
├── requirements.txt       # Зависимости проекта
├── templates/
│   ├── index.html         # Главная страница
│   ├── history.html       # История запросов (опционально)
├── static/
│   ├── styles.css         # Стили приложения
├── start.sh               # Скрипт запуска для Render
├── .render.yaml           # Конфигурация для Render
└── README.md              # Описание проекта
```

## Зависимости
- Flask==2.2.5
- requests==2.31.0
- beautifulsoup4==4.12.2
- gunicorn==21.2.0
- PyMySQL==1.1.1
- cryptography

